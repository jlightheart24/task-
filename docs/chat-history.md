# Chat History

## 2026-02-04
- You asked for a project status snapshot.
- I reported repo structure and docs, and asked what area to dive into.
- You requested inline task entry below the list (editor-like).
- I updated `frontend/src/App.tsx` to replace the top input bar with a contentEditable line below the tasks; Enter creates a task and focus stays in the editor.
- You asked to keep chat history in the repo; we agreed on `docs/chat-history.md`.
- You asked to add created and due dates to tasks.
- I updated the backend to store due dates on create and to update due dates later, and updated the frontend to display created dates and allow setting a due date via a date input.
- You asked whether any of the unexpected files should be in .gitignore.
- You asked to add recommended entries to `.gitignore`; I added `taskminus.db`, `frontend/node_modules/`, and `frontend/dist/`, and untracked `taskminus.db` and `frontend/dist`.
- Tests were run with `go test ./...`.
- You asked to group tasks into different days based on due date; I grouped the task list by due date with a header per day and a No due date bucket.
- You reported due dates defaulting to 12/31/1; I treated zero/0001 dates as empty so they fall into No due date and don't display.
- You asked for new tasks to default due date to today; I set CreateTask to use today when no due date is provided.
- You reported tasks sorting into the previous date; I switched due-date grouping and inputs to use local date parts instead of UTC.
- You asked to remove the title and greeting text from the task view and remove status labels from task rows; I removed those UI elements.
- You asked for a Settings tab with a toggle for date headers; I added a Settings tab and a date header mode (date vs weekday) with localStorage persistence.
- You asked to add a date header mode that shows both weekday and date; I added a "Show both" option.
- You asked to change the delete button to an X that appears on hover; I updated the task row to show a hover-only "×" button.
- You reported the hover "×" delete button not appearing; I changed the hover target to the full list item and bumped the glyph size.
- You reported the hover delete "×" still not appearing; I moved its visibility/opacity into CSS and added an explicit color so it shows on hover.
- You asked to add persistent drag-and-drop reordering; I added an order field to tasks, backend update support, and frontend drag-and-drop within each due-date group.
- You reported drag-and-drop not reordering and highlighting the drop target; I added proper drag data handling, drop prevention, and hover/drag styling.
- You reported text highlighting during drag; I disabled text selection during drag and restored it on drag end.
- You asked for drag-to-new-day to update due dates; I added cross-day drop handling that updates the due date and reorders within the target day.
- You asked to drag tasks between days and replace box highlight with an insertion line; I added cross-day drop handling and line indicators above/below the target.
- You clarified the insertion line should reflect top/bottom hover; I now set drag-over target and position on every dragover event.
- You asked for day separators as drop zones and for line indicators above/below; I added group-level drop zones above and below each day header and wired them to move tasks to the previous/current day.
- You reported same-day drags moving tasks to the previous day; I split same-day reordering from cross-day moves to prevent due date changes on reorder.
- You reported cross-day drops landing on the previous day; I normalized due-date handling to treat due dates as date-only strings and avoid timezone shifts.
- You asked to hide the drop line above the top date; I removed the top drop zone for the first day section.
- You asked for a task details modal with editable details, due date, and priority; I added description to tasks, a backend update method, and a frontend modal for editing.
- You asked to add frontend tests; I added Vitest + Testing Library setup and tests for the task details modal and date header mode.
- You asked to ignore node_modules; I added `package-lock.json` to `.gitignore`, removed tracked `frontend/node_modules/`, and deleted the root `package-lock.json`.
- You reported clicking a task opens details and also completes it; I stopped label/checkbox clicks from propagating and made only the title open the modal.
- You reported clicking a task title still toggled completion; I moved the title out of the label and made it a separate button to open details.
- You wanted completed tasks to keep a strikethrough; I applied the line-through style to the task title button.
- You asked to move Created on into the details modal and remove created/due date from below tasks; I moved created date into the modal and removed the inline metadata.
- You asked for a calendar tab; I added a weekly calendar view that lists tasks on their due date.
- You asked to switch between weeks in the calendar; I added prev/today/next controls and a week offset.
- You asked to set the week start day; I added a Settings option for Sunday/Monday and wired the calendar to respect it.
- You asked to list Sunday before Monday in settings; I reordered the week start radio buttons.
- You asked for date format choice (MDY vs DMY); I added a Settings toggle and applied it to date rendering in headers, calendar, and details.
- You asked for a month view in the calendar; I added a month grid view with week/month toggles and month navigation.
- You asked to separate the week/month toggle from the navigation row; I split them into two rows.
- You asked to keep empty calendar days blank; I removed the "No tasks" placeholder.
- You asked to show the month at the top of the month view; I added a month/year header above the calendar.
- You asked to center the month header; I centered the month/year label above the calendar.
- You asked to move the month header below the view tabs and left align it; I repositioned it under the Week/Month buttons.
- You asked to place the month header below the nav controls and center it; I moved and centered the month/year label.
